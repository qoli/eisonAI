<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'nonce-ABC123';" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="popup.css" />
    <title>Settings</title>

    <style>
        html,
        body {
            max-width: 800px;
            margin: 0 auto;
            max-height: unset;
            background-color: #e0e0e0;
        }

        input {
            border: none;
        }

        input:disabled {
            cursor: not-allowed;
            color: rgba(255, 255, 255, 0.3);
        }

        @keyframes dotFlashingAnimation {
            0% {
                content: ".";
            }

            50% {
                content: "..";
            }

            100% {
                content: "...";
            }
        }

        .ReadabilityMessageTyping::after {
            display: inline;
            content: "...";
            animation: dotFlashingAnimation 1s infinite;
        }

        @keyframes jump {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }

            100% {
                transform: translateY(0);
            }
        }

        @media (prefers-color-scheme: dark) {

            html,
            body {
                background-color: #1f2225;
            }
        }
    </style>
</head>

<body>
    <div class="flexLeft">
        <div class="flexLeft gap8">
            <img src="images/icon.png" width="64" height="64" alt="Toolbar Icon">
        </div>

        <div class="flexCenter flex1 contentRight font12"></div>
    </div>

    <div>
        <h4>API</h4>

        <div class="viewBlock pathBorder contentLeft flexColumn gap10">
            <h5>API URL</h5>
            <input id="APIURL" class="inputStyle flex1" type="text" placeholder="https://generativelanguage.googleapis.com/v1beta" />
            <span>Affected by CSP, only HTTPS connections are allowed.</span>
            <div class="block"></div>

            <h5>API Key</h5>
            <input id="APIKEY" class="inputStyle flex1" type="text" placeholder="AIzaSy..." />

            <h5>API Model</h5>
            <input id="APIMODEL" class="inputStyle flex1" type="text" placeholder="gemini-2.5-flash-preview-04-17" />
            
            <h5>API Advanced Model</h5>
            <input id="APIADVMODEL" class="inputStyle flex1" type="text" placeholder="gemini-2.5-pro-exp-03-25" />
        </div>
    </div>

    <div class="block"></div>

    <div class="flexRight gap10">
        <div id="callbackText" class="flex1"></div>

        <input id="CheckAPI" class="button clickListen" data-function="checkAPI" type="button" value="Check" />

        <input id="SaveAPI" disabled class="button clickListen" data-function="saveAPI" type="button" value="Save" />
    </div>

    <div class="block"></div>

    <div>
        <h4>Prompt</h4>

        <div class="viewBlock pathBorder contentLeft flexColumn gap10">
            <h5>System Text</h5>
            <textarea id="SystemText" class="inputStyle flex1" rows="1"></textarea>
            <div class="block"></div>
            <h5>Prompt</h5>
            <textarea id="Prompt" class="inputStyle flex1" rows="13"></textarea>
        </div>

        <div class="block"></div>

        <div class="flexRight gap10">
            <div id="SavePrompt" class="button clickListen" data-function="savePrompt">Save</div>
        </div>
    </div>

    <div class="block"></div>

    <div>
        <h4>Display Mode</h4>

        <div class="viewBlock pathBorder flexColumn gap10">
            <div class="flexCenter gap10">
                <div id="ModeMiniIconBox" class="modeSelectBox flexCenter flexColumn clickListen"
                    data-function="selectMode" data-params="modeMiniIcon">
                    <div id="ModeMiniIcon" class="baseModeStyle modeMiniIcon">
                        <div class="miniIcon flexCenter">
                            <svg width="20" height="19" viewBox="0 0 20 19" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M0 7.278C0 3.5961 2.98477 0.611328 6.66667 0.611328H11.1111C14.793 0.611328 17.7778 3.5961 17.7778 7.278V11.7224C17.7778 15.4043 14.793 18.3891 11.1111 18.3891H1.66667C0.746192 18.3891 0 17.6429 0 16.7224V7.278Z"
                                    fill="#FFD86D" />
                                <circle cx="8.88888" cy="7.83333" r="2.77778" stroke="black" stroke-width="1.11111" />
                                <circle cx="16.6667" cy="7.83333" r="2.77778" stroke="black" stroke-width="1.11111" />
                                <path d="M9.44446 7.55566V8.66678" stroke="black" stroke-width="1.11111"
                                    stroke-linecap="round" />
                                <path d="M13.4722 7.27783H12.2222" stroke="black" stroke-width="1.11111"
                                    stroke-linecap="round" />
                                <path d="M16.1111 7.55566V8.66678" stroke="black" stroke-width="1.11111"
                                    stroke-linecap="round" />
                                <path d="M10.5555 13.5698V13.5698C12.1488 13.8641 13.7949 13.6042 15.22 12.8332V12.8332"
                                    stroke="black" stroke-width="1.11111" stroke-linecap="round" />
                            </svg>
                        </div>
                    </div>
                    <p>Mini icon</p>
                </div>

                <div id="ModeHiddenBox" class="modeSelectBox flexCenter flexColumn clickListen"
                    data-function="selectMode" data-params="modeHidden">
                    <div id="ModeHidden" class="baseModeStyle modeHidden">
                        <div class="hiddenIcon flexCenter">
                            <svg width="38" height="35" viewBox="0 0 38 35" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect opacity="0.3" x="-0.999878" y="1" width="38" height="33" rx="9" stroke="#8E8E8E"
                                    stroke-width="2" stroke-dasharray="8 8" />
                            </svg>
                        </div>
                    </div>
                    <p>Hidden</p>
                </div>
            </div>
        </div>

        <div class="block"></div>

        <div class="flexRight gap10">
            <div id="SaveMode" class="button clickListen" data-function="saveMode">Save</div>
        </div>
    </div>

    <script src="contentGPT.js"></script>
    <script src="settings.js"></script>
</body>

</html>
